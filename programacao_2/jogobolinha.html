<canvas width="600" height="400"></canvas>

<script>

var tela = document.querySelector("canvas"); 
var pincel = tela.getContext("2d");
pincel.fillStyle = "lightgrey";
pincel.fillRect(0, 0, 600, 400);

function desenhaCirculo(x, y, raio){ // Precisa definir os parâmetros da função.

  pincel.fillStyle = "blue";
  pincel.beginPath();
  pincel.arc(x, y, raio, 0, 2 * Math.PI);
  pincel.fill();
}

  function apagaTela(){

  	 pincel.clearRect(0, 0, 600, 400)
  }

    var x = 20; // *** Neste caso, a variável têm que ser declarada fora  da função.
  	  
    function desenhaTela(){
         	
        //pincel.clearRect(0, 0, 600, 400)
        apagaTela();
        desenhaCirculo(x < 600, 20, 10);
        x++;


  }    var a = 600; 
       function retornaTela(){
            
       apagaTela()
       if(x == 600){
       desenhaCirculo(a > 1, 20, 10);
       a=-1;
            }
       }



       setInterval(desenhaTela,10);
       setInterval(retornaTela,10);


/***
Toda vez que desenhaTela for chamada, o valor de x deve ser atualizado para que na próxima chamada da função pelo setInterval a bolinha seja desenhada em uma nova posição. O problema é que Rita inicializou a variável dentro da função desenhaTela, sendo assim, toda vez que ela for chamada seu valor voltará a ser 20.

Para solucionar, precisamos declarar e inicializar a variável x fora da função atualizaTela. Dessa forma, a lógica de desenhaTela só incrementará o valor da variável. O que acabamos de solucionar é um problema de escopo de variável no mundo da programação. Uma variável pode ter um escopo de função, ou seja, só dentro da função ou ter um escopo chamado de escopo global. Quando declarada fora de uma função, a variável é acessível por qualquer outra função do nosso programa
*/
</script>

