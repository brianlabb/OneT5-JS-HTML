<meta charset = "UTF-8">
<canvas  width = "600"  height = "400"></canvas>

<script>

 var tela = document.querySelector("canvas");
 var pincel = tela.getContext("2d");

 pincel.fillStyle = "lightgrey";
 pincel.fillRect(0, 0, 600, 400);
 var xAleatorio;
 var yAleatorio;
 var  raio = 10;

 function desenhaCirculo(x, y, raio, cor){

   pincel.fillStyle = cor;
   pincel.beginPath();
   pincel.arc(x, y ,raio, 0, 2 * Math.PI)
   pincel.fill();

}

function limpaTela(){

	pincel.clearRect(0, 0, 600, 400);
}
   
 
/*
 function acertaAlvo(evento){

 	var x = evento.pageX - tela.offsetLeft;
 	var y = evento.pageY - tela.offsetTop;
 	
 	if((x > 300 - raio)&&
 		(x < 300 + raio)&&
 		(y > 200 - raio)&&
 		(y < 200 + raio)){

 		alert("Você acertou o alvo!");
 	    }
     }         
        tela.onclick = acertaAlvo;
  */     
 function desenhaAlvo(x, y){
 
  desenhaCirculo(x, y, raio + 20, "red");
  desenhaCirculo(x, y, raio + 10, "white");
  desenhaCirculo(x, y, raio, "red");

    }
   // tela.onclick = acertaAlvo;
   // desenhaAlvo(300, 200);

   function sorteiaPosição(maximo){

   	return Math.floor(Math.random() * maximo);

   } 

 function atualizaTela(){
    limpaTela();
    xAleatorio = sorteiaPosição(600);
    yAleatorio = sorteiaPosição(400); 
    desenhaAlvo(xAleatorio, yAleatorio);

   } 

   setInterval(atualizaTela, 2000);

 function dispara(evento){
     //limpaTela();
     var x = evento.pageX - tela.offsetLeft;
     var y = evento.pageY - tela.offsetTop;

     if ((x > xAleatorio - raio)&&
     	(x < xAleatorio + raio)&&
        (y > yAleatorio - raio)&&
        (y < yAleatorio + raio)){

     	alert("Acertou!");
        desenhaAlvo(x, y, raio + 20, "blue");
        desenhaAlvo(x, y, raio + 10, "white");
        desenhaAlvo(x, y, raio, "blue");

     } 
  }
    tela.onclick = dispara;
 
   


</script>